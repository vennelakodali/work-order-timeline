<div class="timeline-header" role="banner">
  <div class="timescale-container">
    <h1 class="title">Work Orders</h1>
    <app-dropdown #timescaleDropdown>
      <button trigger class="timescale-btn" [class.open]="timescaleDropdown.isOpen" aria-label="Select timescale" aria-haspopup="true" [attr.aria-expanded]="timescaleDropdown.isOpen">
        <span class="timescale-label">Timescale</span>
        <span class="timescale-button-text">{{getTimescaleDisplay()}}</span>
        <img src="assets/icons/down.svg" alt="" aria-hidden="true">
      </button>
      <div panel role="menu" aria-label="Timescale options">
        <ul class="timescale-options-list">
          <li
            *ngFor="let opt of timescaleOptions"
            class="timescale-option"
            [class.active]="opt.value === currentTimescale"
            (click)="timescaleChange.emit(opt.value); timescaleDropdown.close()"
            role="menuitem"
            tabindex="0"
            [attr.aria-current]="opt.value === currentTimescale ? 'true' : null"
          >{{ opt.label }}</li>
        </ul>
      </div>
    </app-dropdown>
  </div>

  <button class="today-btn" (click)="todayClick.emit()" aria-label="Scroll to today's date">
    Today
  </button>
</div>
